% This is the preamble for the whole document.
% Commands included here affect the document as
% a whole. So, please do not change anything in 
% this file unless you know what you're doing.

% Packages
% --------------------------------------------------------------------
\usepackage[
	left=1.5in,
	bottom=1in,
	top=1in,
	right=1in
]{geometry}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage{lipsum}
\usepackage{fancyhdr}
\usepackage{setspace}
\usepackage{array}
\usepackage{etoolbox}
\usepackage{tabularray}
\usepackage{siunitx}
\usepackage{indentfirst}
\usepackage{multicol}
\usepackage{bookmark}
\usepackage[
	tableposition=top,
	figureposition=bottom
]{caption}
\usepackage{mathtools}
\usepackage{pgf-pie}
\usepackage{pgfplots}
\usepackage{calc}
\usepackage{enumitem}
\usepackage{lineno}
\usepackage[american]{babel}
\usepackage{csquotes}
\usepackage{float}
\usepackage[style=mla]{biblatex}
\usepackage{hyperref}

\usepackage{ragged2e} % for \justifying
\usepackage[none]{hyphenat} % disable hyphenation completely
\usepackage{microtype} % improves justification spacing
% --------------------------------------------------------------------

% Fixing compatibility issues with the pgfplots package
% --------------------------------------------------------------------
\pgfplotsset{compat=1.18}
% --------------------------------------------------------------------

% Changing the Title Page Layout
% --------------------------------------------------------------------
\makeatletter
\renewenvironment{titlepage}
{
	\null\setstretch{1}
	\vspace*{-1cm}
	\begin{center}
		\includegraphics[width=3.5cm]{./assets/logo2.jpg}
	\end{center}
	\vspace*{0.5cm}
	\begin{center}
		\normalfont\bfseries\@title\par
	\end{center}
	\vspace{2cm}
	\begin{center}
		\textsl{\small An Undergraduate Thesis\\presented to the\\Civil Engineering Department\\College of Engineering\\Mindanao State University\\General Santos City}
	\end{center}
	\vspace{2cm}
	\begin{center}
		\textsl{\small In partial fulfillment\\of the requirements for the degree\\Bachelor of Science in Civil Engineering}
	\end{center}
	\vspace{2cm}
	\begin{center}
		\normalfont\@author\par
	\end{center}
	\vspace{2cm}
	\begin{center}
		\@date\par
	\end{center}
	\vfill
	\null
}
\makeatother
% --------------------------------------------------------------------

% Template Styles
% --------------------------------------------------------------------

% Changing the Chapter Headings
\titleformat{\chapter}[display]
{\centering\normalfont\large\bfseries}{Chapter \thechapter}{-10pt}{\large}

\titlespacing*{\chapter}{0pt}{-40pt}{20pt}

% Changing the Section Headers
\titleformat{\section}
{\normalfont\bfseries}{\thesection}{1em}{}

% Changing the Line Spacing
\renewcommand{\baselinestretch}{2}

% Changing the position of the page number
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\cfoot{\thepage}
}

% Removing the page number on the first page of each Chapter
\fancypagestyle{chapterfirstpage}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}

\pagestyle{plain}

\patchcmd{\chapter}{\thispagestyle{plain}}{\thispagestyle{chapterfirstpage}}{}{}

% Set the page style for the front matter
\fancypagestyle{frontmatter}{
	\fancyhf{}% Clear header/footer
	\renewcommand{\headrulewidth}{0pt}% Remove header rule
	\fancyfoot[C]{\thepage}% Page number at center of footer
}

% Set the page style for the back matter
\fancypagestyle{backmatter}{%
	\fancyhf{}% Clear header/footer
	\renewcommand{\headrulewidth}{0pt}% Remove header rule
	\fancyfoot[C]{\thepage}% Page number at center of footer
}
% --------------------------------------------------------------------

% Bibliography Setup
% --------------------------------------------------------------------
% Adding the Bibliography Resource Style
\addbibresource{thesis.bib}

% Redifining Bibliography
\DefineBibliographyStrings{english}{%
	bibliography = {References}
}
% --------------------------------------------------------------------

% Leveraging the functionality of the tabularray package
\UseTblrLibrary{booktabs}
\DefTblrTemplate{contfoot-text}{empty}{}
\SetTblrTemplate{contfoot-text}{empty}
\DefTblrTemplate{conthead-text}{empty}{}
\SetTblrTemplate{conthead-text}{empty}
